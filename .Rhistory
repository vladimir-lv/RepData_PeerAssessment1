library(xml)
library(XML)
install.packages("XML")
library(XML)
library(XML)
library(xml)
library(xlsx)
fileUrl<-"https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(fileUrl,destfile = "NaturalGasAquisitionProgram.xlsx",method = "curl")
dateDownloaded<-date()
dateDownloaded
colIndex<-7:15
rowIndex<-18:23
dataSubset<-read.xlsx("NaturalGasAquisitionProgram.xlsx",sheetIndex = 1,colIndex =colIndex,rowIndex = rowIndex  )
dataSubset
fileUrl<-"https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2FDATA.gov_NGAP.xlsx"
download.file(fileUrl,destfile = "NaturalGasAquisitionProgram.xlsx",method = "curl")
dateDownloaded<-date()
dateDownloaded
colIndex<-7:15
rowIndex<-18:23
dat<-read.xlsx("NaturalGasAquisitionProgram.xlsx",sheetIndex = 1,colIndex =colIndex,rowIndex = rowIndex  )
dat
sum(dat$Zip*dat$Ext,na.rm=T)
library(xml)
fileUrl="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc<-xmlTreeParse(fileUrl,useInternal=TRUE)
library(xml)
fileUrl="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
doc<-xmlTreeParse(fileUrl,useInternal=TRUE,method="curl")
library(xml)
library(RCurl)
fileUrl="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
xData <- getURL(fileURL)
doc<-xmlTreeParse(xData)
library(XML)
library(RCurl)
fileUrl="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
xData <- getURL(fileURL)
doc<-xmlTreeParse(xData)
library(XML)
library(RCurl)
fileUrl="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
xData <- getURL(fileUrl)
doc<-xmlTreeParse(xData)
library(XML)
library(RCurl)
fileUrl="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
xData <- getURL(fileUrl,ssl.verifypeer = FALSE)
doc<-xmlTreeParse(xData)
clear
library(XML)
library(RCurl)
fileUrl="https://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
xData <- getURL(fileUrl,ssl.verifypeer = FALSE)
doc<-xmlTreeParse(xData)
doc
?xmlTreeParse
library(XML)
library(RCurl)
fileUrl="http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
xData <- getURL(fileUrl,ssl.verifypeer = FALSE)
doc<-xmlTreeParse(xData,useInternal=TRUE)
library(XML)
library(RCurl)
fileUrl="http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
#xData <- getURL(fileUrl,ssl.verifypeer = FALSE)
doc<-xmlTreeParse(fileUrl,useInternal=TRUE)
doc
rootNode<-xmlRoot(doc)
xmlName(rootNode)
rootNode[[1]]
names(rootNode)
rootNode[[1],2]
rootNode[[1]][[2]]
rootNode[[1]][[2]][[2]]
rootNode,[[2]][[2]]
xpathSApply(rootNode,"//zipcode",xmlValue)
class(xpathSApply(rootNode,"//zipcode",xmlValue))
xpathApply(rootNode,"//zipcode",xmlValue)
class(xpathApply(rootNode,"//zipcode",xmlValue))
ttt<-xpathSApply(rootNode,"//zipcode",xmlValue)
ttt
ttt[2]
ttt[ttt==21231]
class(ttt[ttt==21231])
length(ttt[ttt==21231])
library(XML)
library(RCurl)
fileUrl="http://d396qusza40orc.cloudfront.net/getdata%2Fdata%2Frestaurants.xml"
#xData <- getURL(fileUrl,ssl.verifypeer = FALSE)
doc<-xmlTreeParse(fileUrl,useInternal=TRUE)
rootNode<-xmlRoot(doc)
ttt<-xpathSApply(rootNode,"//zipcode",xmlValue)
length(ttt[ttt==21231])
demo()
install.packages("ROracle")
install.packages("Roracle")
install.packages("RJDBC")
??rjdbc
load("~/Dropbox/_STUDY/_R/t2_2prcnt.RData")
library(rJava)
library(caret)
library(rpart)
rpart.rules.table(modFit.rpart)
?rpart.matrix
??rpart.rules()
library(rJava)
library(caret)
library(rpart)
library(rpart.utils)
rpart.rules.table(modFit.rpart)
??rpart.rules()
rpart.rules.table(modFit.rpart)
rpart.lists(modFit.rpart)
source("t2_invoice_pl1_mod.R",print.eval = TRUE)
source("t2_invoice_pl1_mod.R",print.eval = TRUE)
source("t2_invoice_pl1_mod.R",print.eval = TRUE)
source("t2_invoice_pl1_mod.R",print.eval = TRUE)
print(modFit.rpart)
source("t2_invoice_pl1_mod.R",print.eval = TRUE)
?predict()
save.image("~/Dropbox/_PROJECTS/TELE2/01.Docs/RFC/RFS_2015_1915/T2_invoice_pl1_mod_p005prct.RData")
print(.jcall("java/lang/System", "S", "getProperty", "java.version"))
#Sys.setlocale("LC_ALL", 'en_US.UTF-8')
source('~/Dropbox/_STUDY/_R/tv2_invoice_time_mod.R')
data.invcsr
View(data.invcsr)
summary(data.invcsr)
by(data.invcsr, data.invcsr$Days after invoice paid, head, n=4)
by(data.invcsr, data.invcsr$"Days after invoice paid", head, n=4)
source('~/Dropbox/_STUDY/_R/tv2_invoice_time_mod.R')
str(data.invcsr)
by(data.invcsr, data.invcsr$DAYSAFTERINV, head, n=5)
source('~/Dropbox/_STUDY/_R/tv2_invoice_time_mod.R')
ddd
unlist(ddd)
xxx<-unlist(ddd)
xxx
rm(xxx)
head(ddd)
ddd
plot(ddd)
library(plyr)
df <- melt(ldply(ddd, data.frame))
library(reshape2)
library(reshape2)
df <- melt(ldply(ddd, data.frame))
View(df)
ddply(df, .(variable), function(x) { x$index <- 1:nrow(x); x})
ggplot(df2, aes(index, value, color = variable)) +
geom_point(size=3) + scale_x_continuous(breaks = seq(1:max(df2$index)))
df2<-ddply(df, .(variable), function(x) { x$index <- 1:nrow(x); x})
ggplot(df2, aes(index, value, color = variable)) +
geom_point(size=3) + scale_x_continuous(breaks = seq(1:max(df2$index)))
do.call(rbind.data.frame,ddd)
xxx<-do.call(rbind.data.frame,ddd)
View(xxx)
plot()
plot(xxx$NUMOFSR~xxx$DAYSAFTERINV,type = 'l')
library(lattice)
xyplot(NUMOFSR~DAYSAFTERINV,type='b',group=X_SR_TYPE_CD,data=xxx,auto.key = list(line=TRUE))
xxx[,xxx$X_SR_TYPE_CD=='PAYMENT / BILLING']
xxx[xxx$X_SR_TYPE_CD=='PAYMENT / BILLING',]
xxx1<-xxx[,c(xxx$DAYSAFTERINV,xxx$X_SR_TYPE_CD,xxx$NUMOFSR)]
xxx1<-xxx[,c(xxx$DAYSAFTERINV,xxx$X_SR_TYPE_CD,xxx$NUMOFSR)]
xxx1<-xxx[,c("xxx$DAYSAFTERINV","xxx$X_SR_TYPE_CD","xxx$NUMOFSR")]
xxx1<-xxx[,c("DAYSAFTERINV","X_SR_TYPE_CD","NUMOFSR")]
View(xxx1)
source('~/Dropbox/_STUDY/_R/tv2_invoice_time_mod.R')
ddd
source('~/Dropbox/_STUDY/_R/tv2_invoice_time_mod.R')
ddd
View(xxx)
library(lattice)
xyplot(NUMOFSR~DAYSAFTERINV,type='b',group=X_SR_TYPE_CD,data=xxx,auto.key = list(line=TRUE))
?lattice
#Sys.setlocale("LC_ALL", 'en_US.UTF-8')
print("Modelling t2_invoice_mod.R")
#library(ROracle)
library(rJava)
library(caret)
library(rpart)
#library(rpart.utils)
# Output Java version
.jinit()
print(.jcall("java/lang/System", "S", "getProperty", "java.version"))
# Load RJDBC library
library(RJDBC)
# Create connection driver and open connection
jdbcDriver <- JDBC(driverClass="oracle.jdbc.OracleDriver", classPath="/Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home/lib/ojdbc6.jar")
jdbcConnection <- dbConnect(jdbcDriver, "jdbc:oracle:thin:@//julius.tele2.se:1521/SVE_BI_T", "obiuser", "test")
# Query on the Oracle instance name.
print("Fetch data from db...")
data.invcsr  <- dbGetQuery(jdbcConnection, "SELECT * FROM VX_DM_VL_TEST1")
#print(instanceName)
# Close connection
dbDisconnect(jdbcConnection)
# Top 5 SR Areas after invoice
ddd<-by(data.invcsr, data.invcsr$DAYSAFTERINV, head, n=5)
xxx<-do.call(rbind.data.frame,ddd)
library(lattice)
xyplot(NUMOFSR~DAYSAFTERINV,type='b',group=X_SR_TYPE_CD,data=xxx,auto.key = list(line=TRUE))
source('~/Dropbox/_STUDY/_R/tv2_invoice_time_mod2.R')
source('~/Dropbox/_STUDY/_R/tv2_invoice_time_mod2.R')
source('~/Dropbox/_STUDY/_R/tv2_invoice_time_mod2.R')
save.image("~/Dropbox/_STUDY/_R/T2_model_08052015.RData")
load("~/Dropbox/_PROJECTS/TELE2/01.Docs/RFC/RFS_2015_1915/T2_DM/rep02/t2_data_preproc.RData")
load("~/Dropbox/_PROJECTS/TELE2/01.Docs/RFC/RFS_2015_1915/T2_DM/rep02/t2_data_preproc.RData")
load("~/Dropbox/_PROJECTS/TELE2/01.Docs/RFC/RFS_2015_1915/T2_DM/rep02/t2_data_preproc_ctree.RData")
library(arules)
library(arulesViz)
library(datasets)
library(igraph)
options(scipen=999)
ah_txn<-read.csv('df_ah_transactions.csv',sep=",",header =TRUE);
ah_prod<-read.csv('ah_product_list1.csv',sep=";",header =TRUE);
ah_prod<-read.csv('ah_product_list1.csv',sep=";",header =TRUE);
ah_prod<-read.csv('ah_product_list1.csv',sep=";",header =TRUE);
ah_prod<-read.csv('ah_product_list1.csv',sep=";",header =TRUE);
ah_txn<-read.csv('df_ah_transactions.csv',sep=",",header =TRUE);
setwd("~/GitHub/RepData_PeerAssessment1")
df_day_pattern<-aggregate(steps ~ interval,data=df_act,mean)
df_day_pattern<-aggregate(steps ~ interval,data=df_act,mean)
df_act<-read.csv("activity.csv",sep=',',header=TRUE)
df_act$date<-as.Date(df_act$date)
summary(df_act)
df_act_sum<-aggregate(steps ~ date,data=df_act,sum)
df_act_sum
mean(df_act_sum$steps)
median(df_act_sum$steps)
hist(df_act_sum$steps, breaks = 10,main = "Total number of steps taken each day",xlab = "Number of steps")
df_day_pattern<-aggregate(steps ~ interval,data=df_act,mean)
View(df_day_pattern)
?plot
View(df_day_pattern)
plot(steps ~ interval,data=df_day_pattern,type="l")
sum(is.na(df_act))
sum(is.na(df_act$steps))
sum(is.na(df_act))
df_hist<-hist(df_act_sum$steps, breaks = 10,main = "Total number of steps taken each day",xlab = "Number of steps")
df_hist
View(df_day_pattern)
View(df_act)
View(df_act)
df_act[df_act$steps=NA]
df_act[df_act$steps==NA]
df_act[df_act$steps=="Na"]
df_act[df_act$steps=="NA"]
df_act[df_act$steps=20]
df_act[df_act$steps==20]
df_act[steps==20]
